include "log.fbs";
include "notification.fbs";
include "request.fbs";
include "response.fbs";

namespace FBS.Message;

enum Type : uint8 {
  REQUEST = 0,
  RESPONSE,
  NOTIFICATION,
  // TODO: Remove after migration.
  JSON_NOTIFICATION,
  LOG,
}

union Body {
  FBS.Request.Request,
  FBS.Response.Response,
  FBS.Notification.JsonNotification,
  FBS.Notification.Notification,
  FBS.Log.Log,
}

table Message {
  type:Type;
  data:Body (required);
}

root_type Message;
